(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5a6b8ba"],{"11e9":function(e,t,i){var r=i("52a7"),n=i("4630"),o=i("6821"),a=i("6a99"),s=i("69a8"),c=i("c69a"),l=Object.getOwnPropertyDescriptor;t.f=i("9e1e")?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(i){}if(s(e,t))return n(!r.f.call(e,t),e[t])}},"285f":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-input",{staticStyle:{width:"300px",margin:"15px 0"},attrs:{placeholder:"请输入订单号查询"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-search"},on:{click:function(t){return e.Addsearch()}}}),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.search="",e.searchcode=!1,e.getCommodity()}}},[e._v("清空")]),e._v(" "),e.searchcode?i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.getCommodity(),e.search="",e.searchcode=!1}}},[e._v("返回订单列表")]):e._e(),e._v(" "),i("el-tabs",{attrs:{type:"border-card"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"加载中",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"订单号",align:"center",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户名",align:"center",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"电话",align:"center",prop:"phone"}}),e._v(" "),i("el-table-column",{attrs:{label:"支付状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{type:1===t.row.isPay?"success":"primary","disable-transitions":""}},[e._v(e._s("1"==t.row.isPay?"支付完成":"未支付"))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"success",plain:"",icon:"el-icon-search",circle:""},on:{click:function(i){return e.handleSearch(t.row)}}}),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(i){return e.handleDelete(t.row.id)}}})]}}])})],1),e._v(" "),e.searchcode?e._e():i("el-pagination",{staticClass:"pagination",attrs:{align:"center","current-page":e.pageNum,"page-sizes":[10,20,50,100],"page-size":e.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"订单号："+e.Listdetails.orderId,visible:e.buyVisible,width:"60%"},on:{"update:visible":function(t){e.buyVisible=t}}},[i("el-table",{attrs:{data:e.Listdetails.items}},[i("el-table-column",{attrs:{property:"productName",align:"center",label:"名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["beverage"==t.row.table?i("div",[e._v("\n            "+e._s(t.row.beverageName)+"\n          ")]):"food"==t.row.table?i("div",[e._v("\n            "+e._s(t.row.foodName)+"\n          ")]):i("div",[e._v("\n            "+e._s(t.row.productName)+"\n          ")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"图片",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return["beverage"==t.row.table?i("div",[i("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.GLOBAL.BASE_URL+t.row.beverageImage}})]):"food"==t.row.table?i("div",[i("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.GLOBAL.BASE_URL+t.row.foodImage}})]):i("div",[i("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.GLOBAL.BASE_URL+t.row.productImage}})])]}}])}),e._v(" "),i("el-table-column",{attrs:{property:"price",label:"单价",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{property:"count",label:"数量",align:"center"}})],1),e._v(" "),i("br"),i("br"),e._v(" "),i("div",[i("h2",{staticClass:"aa"},[e._v("总价：￥ "+e._s(e.allprice))])]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.buyVisible=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"修改订单",visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t}}},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"姓名:"}},[i("el-input",{model:{value:e.editfrom.userName,callback:function(t){e.$set(e.editfrom,"userName",t)},expression:"editfrom.userName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"联系方式:"}},[i("el-input",{model:{value:e.editfrom.userPhone,callback:function(t){e.$set(e.editfrom,"userPhone",t)},expression:"editfrom.userPhone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"收货地址:"}},[i("label",[e._v("\n          省份:\n          "),i("el-input",{model:{value:e.editfrom.receiverProvince,callback:function(t){e.$set(e.editfrom,"receiverProvince",t)},expression:"editfrom.receiverProvince"}})],1),e._v(" "),i("label",[e._v("\n          城市:\n          "),i("el-input",{model:{value:e.editfrom.receiverCity,callback:function(t){e.$set(e.editfrom,"receiverCity",t)},expression:"editfrom.receiverCity"}})],1),e._v(" "),i("label",[e._v("\n          区/县:\n          "),i("el-input",{model:{value:e.editfrom.receiverDistrict,callback:function(t){e.$set(e.editfrom,"receiverDistrict",t)},expression:"editfrom.receiverDistrict"}})],1),e._v(" "),i("label",[e._v("\n          详细地址:\n          "),i("el-input",{model:{value:e.editfrom.receiverAddress,callback:function(t){e.$set(e.editfrom,"receiverAddress",t)},expression:"editfrom.receiverAddress"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"邮政编号:"}},[i("el-input",{model:{value:e.editfrom.receiverZip,callback:function(t){e.$set(e.editfrom,"receiverZip",t)},expression:"editfrom.receiverZip"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"订单状态:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editfrom.statusDesc,callback:function(t){e.$set(e.editfrom,"statusDesc",t)},expression:"editfrom.statusDesc"}},e._l(e.state,function(e){return i("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}),1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.orderEdit()}}},[e._v("确 定")])],1)],1)],1)},n=[],o=(i("c5f6"),i("386d"),i("b775")),a=i.n(o),s={data:function(){return{listLoading:!0,list:null,listEdit:null,editfrom:{},searchcode:!1,refundfrom:{id:"",orderCode:"",totalMoney:""},search:"",pageNum:1,pageSize:10,totalNum:0,order:{},active:0,refundMoney:0,dialogVisible:!1,editVisible:!1,refundVisible:!1,buyVisible:!1,buyList:{},value:"",allprice:0,state:[{text:"已取消",value:"0"},{text:"未付款",value:"10"},{text:"已付款",value:"20"},{text:"已发货",value:"40"},{text:"交易成功",value:"50"},{text:"交易关闭",value:"60"}],Listdetails:{}}},mounted:function(){this.getCommodity()},methods:{handleSearch:function(e){var t=this;this.$api.order.findOrderGoodsByOrderId({orderId:e.id}).then(function(i){console.log(i),t.allprice=e.total,t.Listdetails=i.data.data,t.Listdetails.items=JSON.parse(t.Listdetails.items),t.Listdetails.items.constructor===Object&&(t.Listdetails.items=[t.Listdetails.items]),t.buyVisible=!0}).catch(function(e){})},getCommodity:function(){var e=this;this.listLoading=!0,this.$api.order.orderAll({pageNum:this.pageNum,pageSize:this.pageSize}).then(function(t){console.log(t),e.list=t.data.data.result,e.totalNum=t.data.data.total,e.listLoading=!1}).catch(function(e){})},getSelect:function(){var e=this;this.listLoading=!0,a()({url:"/manage/order/search",method:"post",data:{pageNum:this.pageNum,pageSize:this.pageSize,search:this.search}}).then(function(t){console.log(t),0==t.status?(e.list=t.data.list,e.totalNum=t.data.total):e.$message(t.msg),e.listLoading=!1}).catch(function(e){reject(e)})},clearFilter:function(){this.$refs.filterTable.clearFilter()},formatter:function(e,t){return e.address},filterTag:function(e,t){return Number(t.orderStatus)===Number(e)},filterHandler:function(e,t,i){var r=i["property"];return t[r]===e},getorderStatus:function(e){return 0==e?(e="已取消",e):10==e?(e="未付款",e):20==e?(e="已付款",e):40==e?(e="已发货",e):50==e?(e="交易成功",e):60==e?(e="交易关闭",e):void 0},refund:function(e){return 0==e?"否":"是"},closed:function(e){return 50==e?(e="已完结",e):(e="未完结",e)},orderstatus:function(){},handleClick:function(e,t){this.getCommodity()},handleEdit:function(e,t){console.log(t.shippingId),this.editfrom.id=t.orderNo,this.editfrom.shippingId=t.shippingId,this.editfrom.userName=t.shippingVo.receiverName,this.editfrom.userPhone=t.shippingVo.receiverMobile,this.editfrom.receiverProvince=t.shippingVo.receiverProvince,this.editfrom.receiverCity=t.shippingVo.receiverCity,this.editfrom.receiverDistrict=t.shippingVo.receiverDistrict,this.editfrom.receiverAddress=t.shippingVo.receiverAddress,this.editfrom.receiverZip=t.shippingVo.receiverZip,this.editfrom.statusDesc=t.statusDesc,this.editfrom.status=t.status,this.editVisible=!0},orderEdit:function(){var e=this;a()({url:"/manage/order/select",method:"post",data:{id:this.editfrom.id,shippingId:this.editfrom.shippingId,userName:this.editfrom.userName,userPhone:this.editfrom.userPhone,receiverProvince:this.editfrom.receiverProvince,receiverCity:this.editfrom.receiverCity,receiverDistrict:this.editfrom.receiverDistrict,receiverAddress:this.editfrom.receiverAddress,receiverZip:this.editfrom.receiverZip,status:this.editfrom.statusDesc.length>2?this.editfrom.status:this.editfrom.statusDesc}}).then(function(t){console.log(t),e.getCommodity(),e.$message({showClose:!0,message:"修改成功！",type:"success"}),e.editVisible=!1}).catch(function(e){reject(e)})},buyDetails:function(e){this.buyList=e,this.buyVisible=!0},refundValue:function(e,t){var i=this;this.refundVisible=!0,this.refundfrom.id=t.id,this.refundfrom.orderCode=t.orderCode,a()({url:"/ordercms/refundmoney\t",method:"post",data:{orderCode:this.refundfrom.orderCode}}).then(function(e){i.getCommodity(),i.refundfrom.totalMoney=e.orderMoney}).catch(function(e){reject(e)})},refundV:function(e){var t=this;a()({url:"/wxcms/refund",method:"post",data:{orderId:this.refundfrom.id,orderCode:this.refundfrom.orderCode,orderMoney:100*this.refundfrom.totalMoney,refundMoney:100*this.refundMoney}}).then(function(e){console.log(e),t.getCommodity(),1==e.status?(t.$message({showClose:!0,message:"提交成功！",type:"success"}),t.refundVisible=!1):t.$message({showClose:!0,message:e.err_code_des,type:"warning"}),t.refundMoney=0}).catch(function(e){reject(e)})},handleDelete:function(e){var t=this;this.$confirm("确认删除？").then(function(i){t.listLoading=!0,t.$api.order.delete({orderId:e}).then(function(e){console.log(e),t.getCommodity(),t.$message({showClose:!0,message:"删除成功！",type:"success"}),t.listLoading=!1}).catch(function(e){})}).catch(function(e){})},Addsearch:function(){var e=this;0!=this.search.length?32==this.search.length?this.$api.order.findByOrderId({orderId:this.search}).then(function(t){null!=t.data.data?(e.list=[t.data.data],e.searchcode=!0,console.log(t)):e.$message.error("该订单号不存在！")}).catch(function(e){}):this.$message({message:"订单号输入长度不正确！",type:"warning"}):this.$message({message:"查询不能为空！",type:"warning"})},handleSizeChange:function(e){this.pageSize=e,this.getCommodity()},handleCurrentChange:function(e){this.pageNum=e,this.getCommodity()}}},c=s,l=(i("87eb"),i("2877")),d=Object(l["a"])(c,r,n,!1,null,null,null);t["default"]=d.exports},"386d":function(e,t,i){"use strict";var r=i("cb7c"),n=i("83a1"),o=i("5f1b");i("214f")("search",1,function(e,t,i,a){return[function(i){var r=e(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,r):new RegExp(i)[t](String(r))},function(e){var t=a(i,e,this);if(t.done)return t.value;var s=r(e),c=String(this),l=s.lastIndex;n(l,0)||(s.lastIndex=0);var d=o(s,c);return n(s.lastIndex,l)||(s.lastIndex=l),null===d?-1:d.index}]})},"5dbc":function(e,t,i){var r=i("d3f4"),n=i("8b97").set;e.exports=function(e,t,i){var o,a=t.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&r(o)&&n&&n(e,o),e}},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"87eb":function(e,t,i){"use strict";var r=i("ee8f"),n=i.n(r);n.a},"8b97":function(e,t,i){var r=i("d3f4"),n=i("cb7c"),o=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,i){return o(e,i),t?e.__proto__=i:r(e,i),e}}({},!1):void 0),check:o}},9093:function(e,t,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},aa77:function(e,t,i){var r=i("5ca1"),n=i("be13"),o=i("79e5"),a=i("fdef"),s="["+a+"]",c="​",l=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),u=function(e,t,i){var n={},s=o(function(){return!!a[e]()||c[e]()!=c}),l=n[e]=s?t(f):a[e];i&&(n[i]=l),r(r.P+r.F*s,"String",n)},f=u.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(d,"")),e};e.exports=u},c5f6:function(e,t,i){"use strict";var r=i("7726"),n=i("69a8"),o=i("2d95"),a=i("5dbc"),s=i("6a99"),c=i("79e5"),l=i("9093").f,d=i("11e9").f,u=i("86cc").f,f=i("aa77").trim,h="Number",p=r[h],m=p,v=p.prototype,g=o(i("2aeb")(v))==h,b="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():f(t,3);var i,r,n,o=t.charCodeAt(0);if(43===o||45===o){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var a,c=t.slice(2),l=0,d=c.length;l<d;l++)if(a=c.charCodeAt(l),a<48||a>n)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(g?c(function(){v.valueOf.call(i)}):o(i)!=h)?a(new m(y(t)),i,p):y(t)};for(var _,N=i("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;N.length>w;w++)n(m,_=N[w])&&!n(p,_)&&u(p,_,d(m,_));p.prototype=v,v.constructor=p,i("2aba")(r,h,p)}},ee8f:function(e,t,i){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);