(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24f0b272"],{"386d":function(t,e,i){"use strict";var a=i("cb7c"),n=i("83a1"),l=i("5f1b");i("214f")("search",1,function(t,e,i,c){return[function(i){var a=t(this),n=void 0==i?void 0:i[e];return void 0!==n?n.call(i,a):new RegExp(i)[e](String(a))},function(t){var e=c(i,t,this);if(e.done)return e.value;var s=a(t),r=String(this),o=s.lastIndex;n(o,0)||(s.lastIndex=0);var u=l(s,r);return n(s.lastIndex,o)||(s.lastIndex=o),null===u?-1:u.index}]})},"7d04":function(t,e,i){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},b585:function(t,e,i){"use strict";var a=i("7d04"),n=i.n(a);n.a},e544:function(t,e,i){"use strict";i.r(e);var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{display:"inline-flex","margin-bottom":"10px"}},[i("el-input",{staticClass:"search",attrs:{size:"mini",placeholder:"输入城市名查询"},on:{input:function(e){return t.searchfuc()},focus:function(e){return t.inputChange()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),i("el-tabs",{attrs:{type:"border-card"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"加载中",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"Id",width:"50",align:"center",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"城市",align:"center",prop:"city"}}),t._v(" "),i("el-table-column",{attrs:{label:"门店总数",align:"center",prop:"count"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"success",plain:"",icon:"el-icon-search",circle:""},on:{click:function(i){return t.handleSearch(e.row.city)}}}),t._v(" "),i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}}),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(i){return t.handleDelete(e.$index,e.row)}}})]}}])})],1),t._v(" "),i("el-pagination",{staticClass:"pagination",attrs:{align:"center","current-page":t.currentPage,"page-sizes":[5,10,20,50,100],"page-size":t.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.totalNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.searchlist[0].city+"的店铺",visible:t.searchVisible,"close-on-click-modal":!1,"show-close":!1,width:"70%"},on:{"update:visible":function(e){t.searchVisible=e}}},[i("span",{staticClass:"dialog-footer aaa",attrs:{slot:""},slot:"default"},[i("el-button",{staticClass:"el-icon-close",attrs:{type:"text"},on:{click:function(e){t.closeSearch(),t.searchVisible=!1}}})],1),t._v(" "),i("el-tabs",{attrs:{type:"border-card"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading1,expression:"listLoading1"}],attrs:{data:t.searchlist,"element-loading-text":"加载中",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"Id",width:"50",align:"center",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{label:"店铺名称",align:"center",prop:"storeName"}}),t._v(" "),i("el-table-column",{attrs:{label:"城市",align:"center",prop:"city"}}),t._v(" "),i("el-table-column",{attrs:{label:"店铺地址",align:"center",prop:"storeAddress"}}),t._v(" "),i("el-table-column",{attrs:{label:"店铺电话",align:"center",prop:"phoneNumber"}}),t._v(" "),i("el-table-column",{attrs:{label:"邮政编号",align:"center",prop:"postCode"}}),t._v(" "),i("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"updateTime"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(i){return t.handleEdit1(e.$index,e.row)}}}),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(i){return t.handleDelete1(e.$index,e.row)}}})]}}])})],1),t._v(" "),i("el-pagination",{staticClass:"pagination",attrs:{align:"center","current-page":t.currentPage1,"page-sizes":[5,10,20,50,100],"page-size":t.pageSize1,background:"",layout:"total, sizes, prev, pager, next, jumper",total:t.totalNum1},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"修改",visible:t.editVisible,width:"45%","show-close":!1},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{attrs:{model:t.editform,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"城市名称"}},[i("el-input",{model:{value:t.editform.city,callback:function(e){t.$set(t.editform,"city",e)},expression:"editform.city"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editGoods()}}},[t._v("立即发布")]),t._v(" "),i("el-button",{on:{click:function(e){t.editVisible=!1,t.getCommodity()}}},[t._v("取消")])],1)],1)],1)],1)},l=[],c=i("bd86"),s=(i("386d"),i("b775"),{data:function(){return{list:null,listLoading:!0,listLoading1:!0,search:"",currentPage:1,pageSize:5,totalNum:0,currentPage1:1,pageSize1:5,totalNum1:0,searchlist:[{city:""}],searchVisible:!1,editVisible:!1,city:"",editform:{},index:0}},mounted:function(){this.getCommodity()},methods:(a={getCommodity:function(){var t=this;this.listLoading=!0,this.$api.city.items({pageNum:this.currentPage,pageSize:this.pageSize}).then(function(e){console.log(e),t.list=e.data.data.result,t.totalNum=e.data.data.total,t.listLoading=!1}).catch(function(t){})},inputChange:function(){this.search.length>0?(this.currentPage=1,this.pageSize=5):this.getCommodity()},searchfuc:function(){var t=this;this.search.length>0?(this.listLoading=!0,this.$api.city.search({pageNum:this.currentPage,pageSize:this.pageSize,cityName:this.search}).then(function(e){console.log(e),t.list=e.data.data.result,t.totalNum=e.data.data.total,t.listLoading=!1}).catch(function(t){})):(this.currentPage=1,this.pageSize=5,this.getCommodity())},handleDelete:function(t,e){var i=this;this.$alert("该市存在店铺不能进行删除","删除失败！",{confirmButtonText:"确定",callback:function(t){i.$message({type:"warning",message:"该市存在店铺不能进行删除"})}})}},Object(c["a"])(a,"handleDelete",function(t,e){var i=this;this.$confirm("确认删除？").then(function(e){i.$delete(i.searchlist,t),i.$message({message:"删除成功！",type:"success"})}).catch(function(t){})}),Object(c["a"])(a,"handleSearch",function(t){var e=this;this.$api.city.itemByCityName({pageNum:this.currentPage1,pageSize:this.pageSize1,cityName:t}).then(function(i){console.log(i),e.searchlist=i.data.data.result,e.totalNum1=i.data.data.total,e.city=t,e.searchVisible=!0,e.listLoading1=!1}).catch(function(t){})}),Object(c["a"])(a,"closeSearch",function(){this.currentPage1=1,this.pageSize1=5}),Object(c["a"])(a,"handleEdit",function(t,e){this.editform=e,this.index=t,this.editVisible=!0}),Object(c["a"])(a,"editGoods",function(){this.searchlist[this.index].city=this.editform.city,this.$message({message:"修改成功！",type:"success"})}),Object(c["a"])(a,"handleClick",function(t,e){this.getCommodity()}),Object(c["a"])(a,"handleSizeChange",function(t){this.pageSize=t,this.search.length>0?this.searchfuc():this.getCommodity()}),Object(c["a"])(a,"handleCurrentChange",function(t){this.currentPage=t,this.search.length>0?this.searchfuc():this.getCommodity()}),Object(c["a"])(a,"handleSizeChange1",function(t){this.pageSize1=t,this.handleSearch(this.city)}),Object(c["a"])(a,"handleCurrentChange1",function(t){this.currentPage1=t,this.handleSearch(this.city)}),a)}),r=s,o=(i("b585"),i("2877")),u=Object(o["a"])(r,n,l,!1,null,"b683a7a2",null);e["default"]=u.exports}}]);